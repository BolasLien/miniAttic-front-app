(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"13d5":function(t,r,e){"use strict";var o=e("23e7"),s=e("d58f").left,a=e("a640"),n=e("ae40"),c=a("reduce"),d=n("reduce",{1:0});o({target:"Array",proto:!0,forced:!c||!d},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},cf2a:function(t,r,e){"use strict";e.r(r);var o=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"order"}},[t.orders.length>0?e("b-container",[e("div",{staticClass:"mt-2"},[t._v(" "+t._s(t.user)+"您好，以下是您的訂單 ")]),e("b-row",{staticClass:"head hidden-md"},[e("b-col",{attrs:{md:"3"}},[t._v("訂單編號")]),e("b-col",{attrs:{md:"2"}},[t._v("訂購日期")]),e("b-col",{attrs:{md:"2"}},[t._v("付款方式")]),e("b-col",{attrs:{md:"2"}},[t._v("訂單金額")]),e("b-col",{attrs:{md:"2"}},[t._v("訂單進度")])],1),t._l(t.orders,(function(r){return e("b-row",{key:r.item,staticClass:"item"},[e("b-col",{attrs:{md:"3",cols:"6","order-md":"1",order:"1"}},[e("router-link",{attrs:{to:"/order/"+r.item}},[e("font-awesome-icon",{attrs:{icon:["fas","list-alt"],size:"lg"}}),t._v(" "+t._s(r.item)+" ")],1)],1),e("b-col",{staticClass:"hidden-md",attrs:{md:"2",cols:"6","order-md":"2",order:"2"}},[t._v(t._s(t.getDate(r.item)))]),e("b-col",{staticClass:"bv-d-xl-down-none",attrs:{md:"6",cols:"12","order-md":"5",order:"3"}},[e("hr",{staticClass:"border"}),e("router-link",{attrs:{to:"/order/"+r.item}},[e("b-row",{staticClass:"detail product"},[e("b-col",{attrs:{md:"4",cols:"6"}},[e("b-img",{attrs:{center:"",width:"100",src:r.products[0].src}})],1),e("b-col",{attrs:{md:"8",cols:"6"}},[e("span",{staticClass:"bv-d-xl-down-none"},[t._v("共 "+t._s(t.totalAmount(r))+" 項商品")])])],1)],1),e("hr",{staticClass:"border"})],1),e("b-col",{attrs:{md:"2",cols:"6","order-md":"5",order:"4"}},[t._v(t._s(r.payment.name))]),e("b-col",{attrs:{md:"2",cols:"6","order-md":"5",order:"4"}},[e("span",{staticClass:"bv-d-xl-down-none"},[t._v("訂單金額")]),e("small",[t._v("NT$ ")]),t._v(" "+t._s(t.totalPrice(r))+" ")]),e("b-col",{attrs:{md:"2",cols:"6","order-md":"5",order:"2"}},[t._v(t._s(t.status[r.status]))])],1)}))],2):e("b-container",[e("p",[t._v(" 你尚未有任何訂單喔 "),e("br")]),e("h1",[e("router-link",{attrs:{to:"/shop"}},[t._v("可以從這裡去看看喔！")])],1)])],1)},s=[],a=(e("caad"),e("d81d"),e("13d5"),e("2532"),e("b85c")),n={props:{webdata:Object},data:function(){return{orders:[],status:["尚未付款","待出貨","出貨中","已送達"]}},methods:{getDate:function(t){var r=new Date(parseInt(t));return r.toLocaleDateString()},totalPrice:function(t){var r,e=0,o=Object(a["a"])(t.products);try{for(o.s();!(r=o.n()).done;){var s=r.value;e+=s.price*s.amount}}catch(n){o.e(n)}finally{o.f()}return e+t.payment.price},totalAmount:function(t){return t.products.map((function(t){return t.amount})).reduce((function(t,r){return t+r}))}},computed:{user:function(){return this.$store.getters.user},token:function(){return this.$store.getters.token}},mounted:function(){var t=this;this.axios.get("https://miniattic.herokuapp.com/orders",{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(r){if(r.data.datas.length>0){t.orders=r.data.datas;var e,o=Object(a["a"])(t.orders);try{for(o.s();!(e=o.n()).done;){var s,n=e.value,c=Object(a["a"])(n.products);try{for(c.s();!(s=c.n()).done;){var d=s.value;d.src="https://miniattic.herokuapp.com/image/"+d.src}}catch(i){c.e(i)}finally{c.f()}}}catch(i){o.e(i)}finally{o.f()}}})).catch((function(r){r.response.data.message.includes("登入過期")||r.response.data.message.includes("Token異常")?t.$swal({title:"訊息",text:"請重新登入",icon:"error"}).then((function(){t.$store.commit("logout"),t.$router.push("/login")})):console.log(r)}))}},c=n,d=e("2877"),i=Object(d["a"])(c,o,s,!1,null,null,null);r["default"]=i.exports},d58f:function(t,r,e){var o=e("1c0b"),s=e("7b0b"),a=e("44ad"),n=e("50c4"),c=function(t){return function(r,e,c,d){o(e);var i=s(r),l=a(i),u=n(i.length),m=t?u-1:0,f=t?-1:1;if(c<2)while(1){if(m in l){d=l[m],m+=f;break}if(m+=f,t?m<0:u<=m)throw TypeError("Reduce of empty array with no initial value")}for(;t?m>=0:u>m;m+=f)m in l&&(d=e(d,l[m],m,i));return d}};t.exports={left:c(!1),right:c(!0)}}}]);
//# sourceMappingURL=order.0967cf79.js.map